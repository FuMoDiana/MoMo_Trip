import{c as Y,e as ie,r as Ge,d as Z,u as gt,a as s,n as V,t as ae,b as ue,q,I as de,w as te,at as Le,au as Oe,K as bt,av as mt,aw as yt,a0 as xt,m as p,U as ne,Q as _e,j as E,R as Me,ax as _t,x as R,a3 as Be,C as Je,h as U,y as K,z as ze,k as ve,ay as Ke,az as Ct,p as xe,aA as kt,H as De,ap as Qe,aB as wt,a7 as Ae,a8 as he,a5 as St,$ as It,f as Tt,g as $t,o as pe,aC as Ne,W as et,l as tt,aD as Fe,a4 as ee,aE as Rt,M as Ie,V as nt,aF as Bt,A as At,aG as Et,aH as Pt,aI as qe,_ as Ee,G as Vt,aJ as Lt,s as at,v as it,D as Ot,N as Mt,aK as zt,a9 as lt,ag as ot,aa as W,ab as J,an as Pe,ae as me,F as re,al as fe,aj as Dt,aq as Ve,ak as ye,ai as Nt}from"./index.b6ee15c5.js";import{S as Ft,a as Wt}from"./index.e82be291.js";import{u as ct}from"./city.9b394d20.js";import{a as le,b as Ht,u as jt}from"./use-refs.3a567fb0.js";import"./index.fa36b063.js";const[Kt,ce]=Y("cell"),rt={icon:String,size:String,title:V,value:V,label:V,center:Boolean,isLink:Boolean,border:ae,required:Boolean,iconPrefix:String,valueClass:ue,labelClass:ue,titleClass:ue,titleStyle:null,arrowDirection:String,clickable:{type:Boolean,default:null}},qt=ie({},rt,Ge);var Ut=Z({name:Kt,props:qt,setup(e,{slots:n}){const a=gt(),r=()=>{if(n.label||q(e.label))return s("div",{class:[ce("label"),e.labelClass]},[n.label?n.label():e.label])},i=()=>{if(n.title||q(e.title))return s("div",{class:[ce("title"),e.titleClass],style:e.titleStyle},[n.title?n.title():s("span",null,[e.title]),r()])},o=()=>{const l=n.value||n.default;if(l||q(e.value)){const f=n.title||q(e.title);return s("div",{class:[ce("value",{alone:!f}),e.valueClass]},[l?l():s("span",null,[e.value])])}},u=()=>{if(n.icon)return n.icon();if(e.icon)return s(de,{name:e.icon,class:ce("left-icon"),classPrefix:e.iconPrefix},null)},h=()=>{if(n["right-icon"])return n["right-icon"]();if(e.isLink){const l=e.arrowDirection?`arrow-${e.arrowDirection}`:"arrow";return s(de,{name:l,class:ce("right-icon")},null)}};return()=>{var l,g;const{size:f,center:b,border:S,isLink:k,required:m}=e,w=(l=e.clickable)!=null?l:k,_={center:b,required:m,clickable:w,borderless:!S};return f&&(_[f]=!!f),s("div",{class:ce(_),role:w?"button":void 0,tabindex:w?0:void 0,onClick:a},[u(),i(),o(),h(),(g=n.extra)==null?void 0:g.call(n)])}}});const st=te(Ut);function ut(e){return Array.isArray(e)?!e.length:e===0?!1:!e}function Yt(e,n){if(ut(e)){if(n.required)return!1;if(n.validateEmpty===!1)return!0}return!(n.pattern&&!n.pattern.test(String(e)))}function Zt(e,n){return new Promise(a=>{const r=n.validator(e,n);if(mt(r)){r.then(a);return}a(r)})}function Ue(e,n){const{message:a}=n;return yt(a)?a(e,n):a||""}function Xt({target:e}){e.composing=!0}function Ye({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function Gt(e,n){const a=Le();e.style.height="auto";let r=e.scrollHeight;if(bt(n)){const{maxHeight:i,minHeight:o}=n;i!==void 0&&(r=Math.min(r,i)),o!==void 0&&(r=Math.max(r,o))}r&&(e.style.height=`${r}px`,Oe(a))}function Jt(e){return e==="number"?{type:"text",inputmode:"decimal"}:e==="digit"?{type:"tel",inputmode:"numeric"}:{type:e}}function Te(e){return[...e].length}function Qt(e,n){return[...e].slice(0,n).join("")}let pt=0;function Ce(){const e=xt(),{name:n="unknown"}=(e==null?void 0:e.type)||{};return`${n}-${++pt}`}const[en,F]=Y("field"),We={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:V,formatter:Function,clearIcon:p("clear"),modelValue:ne(""),inputAlign:String,placeholder:String,autocomplete:String,errorMessage:String,enterkeyhint:String,clearTrigger:p("focus"),formatTrigger:p("onChange"),error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}},tn=ie({},rt,We,{rows:V,type:p("text"),rules:Array,autosize:[Boolean,Object],labelWidth:V,labelClass:ue,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var nn=Z({name:en,props:tn,emits:["blur","focus","clear","keypress","click-input","end-validate","start-validate","click-left-icon","click-right-icon","update:modelValue"],setup(e,{emit:n,slots:a}){const r=Ce(),i=_e({status:"unvalidated",focused:!1,validateMessage:""}),o=E(),u=E(),h=E(),{parent:l}=Me(_t),g=()=>{var t;return String((t=e.modelValue)!=null?t:"")},f=t=>{if(q(e[t]))return e[t];if(l&&q(l.props[t]))return l.props[t]},b=R(()=>{const t=f("readonly");if(e.clearable&&!t){const v=g()!=="",x=e.clearTrigger==="always"||e.clearTrigger==="focus"&&i.focused;return v&&x}return!1}),S=R(()=>h.value&&a.input?h.value():e.modelValue),k=t=>t.reduce((v,x)=>v.then(()=>{if(i.status==="failed")return;let{value:$}=S;if(x.formatter&&($=x.formatter($,x)),!Yt($,x)){i.status="failed",i.validateMessage=Ue($,x);return}if(x.validator)return ut($)&&x.validateEmpty===!1?void 0:Zt($,x).then(N=>{N&&typeof N=="string"?(i.status="failed",i.validateMessage=N):N===!1&&(i.status="failed",i.validateMessage=Ue($,x))})}),Promise.resolve()),m=()=>{i.status="unvalidated",i.validateMessage=""},w=()=>n("end-validate",{status:i.status}),_=(t=e.rules)=>new Promise(v=>{m(),t?(n("start-validate"),k(t).then(()=>{i.status==="failed"?(v({name:e.name,message:i.validateMessage}),w()):(i.status="passed",v(),w())})):v()}),P=t=>{if(l&&e.rules){const{validateTrigger:v}=l.props,x=Ke(v).includes(t),$=e.rules.filter(N=>N.trigger?Ke(N.trigger).includes(t):x);$.length&&_($)}},H=t=>{const{maxlength:v}=e;if(q(v)&&Te(t)>v){const x=g();return x&&Te(x)===+v?x:Qt(t,+v)}return t},L=(t,v="onChange")=>{if(t=H(t),e.type==="number"||e.type==="digit"){const x=e.type==="number";t=Ct(t,x,x)}e.formatter&&v===e.formatTrigger&&(t=e.formatter(t)),o.value&&o.value.value!==t&&(o.value.value=t),t!==e.modelValue&&n("update:modelValue",t)},Q=t=>{t.target.composing||L(t.target.value)},y=()=>{var t;return(t=o.value)==null?void 0:t.blur()},X=()=>{var t;return(t=o.value)==null?void 0:t.focus()},O=()=>{const t=o.value;e.type==="textarea"&&e.autosize&&t&&Gt(t,e.autosize)},C=t=>{i.focused=!0,n("focus",t),K(O),f("readonly")&&y()},I=t=>{f("readonly")||(i.focused=!1,L(g(),"onBlur"),n("blur",t),P("onBlur"),K(O),wt())},T=t=>n("click-input",t),B=t=>n("click-left-icon",t),A=t=>n("click-right-icon",t),z=t=>{xe(t),n("update:modelValue",""),n("clear",t)},j=R(()=>{if(typeof e.error=="boolean")return e.error;if(l&&l.props.showError&&i.status==="failed")return!0}),D=R(()=>{const t=f("labelWidth");if(t)return{width:Be(t)}}),M=t=>{t.keyCode===13&&(!(l&&l.props.submitOnEnter)&&e.type!=="textarea"&&xe(t),e.type==="search"&&y()),n("keypress",t)},oe=()=>e.id||`${r}-input`,G=()=>i.status,ke=()=>{const t=F("control",[f("inputAlign"),{error:j.value,custom:!!a.input,"min-height":e.type==="textarea"&&!e.autosize}]);if(a.input)return s("div",{class:t,onClick:T},[a.input()]);const v={id:oe(),ref:o,name:e.name,rows:e.rows!==void 0?+e.rows:void 0,class:t,disabled:f("disabled"),readonly:f("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,enterkeyhint:e.enterkeyhint,"aria-labelledby":e.label?`${r}-label`:void 0,onBlur:I,onFocus:C,onInput:Q,onClick:T,onChange:Ye,onKeypress:M,onCompositionend:Ye,onCompositionstart:Xt};return e.type==="textarea"?s("textarea",v,null):s("input",De(Jt(e.type),v),null)},ge=()=>{const t=a["left-icon"];if(e.leftIcon||t)return s("div",{class:F("left-icon"),onClick:B},[t?t():s(de,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},we=()=>{const t=a["right-icon"];if(e.rightIcon||t)return s("div",{class:F("right-icon"),onClick:A},[t?t():s(de,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},Se=()=>{if(e.showWordLimit&&e.maxlength){const t=Te(g());return s("div",{class:F("word-limit")},[s("span",{class:F("word-num")},[t]),Qe("/"),e.maxlength])}},He=()=>{if(l&&l.props.showErrorMessage===!1)return;const t=e.errorMessage||i.validateMessage;if(t){const v=a["error-message"],x=f("errorMessageAlign");return s("div",{class:F("error-message",x)},[v?v({message:t}):t])}},c=()=>{const t=f("colon")?":":"";if(a.label)return[a.label(),t];if(e.label)return s("label",{id:`${r}-label`,for:oe()},[e.label+t])},d=()=>[s("div",{class:F("body")},[ke(),b.value&&s(de,{ref:u,name:e.clearIcon,class:F("clear")},null),we(),a.button&&s("div",{class:F("button")},[a.button()])]),Se(),He()];return le({blur:y,focus:X,validate:_,formValue:S,resetValidation:m,getValidationStatus:G}),Je(kt,{customValue:h,resetValidation:m,validateWithTrigger:P}),U(()=>e.modelValue,()=>{L(g()),m(),P("onChange"),K(O)}),ze(()=>{L(g(),e.formatTrigger),K(O)}),ve("touchstart",z,{target:R(()=>{var t;return(t=u.value)==null?void 0:t.$el})}),()=>{const t=f("disabled"),v=f("labelAlign"),x=c(),$=ge();return s(st,{size:e.size,icon:e.leftIcon,class:F({error:j.value,disabled:t,[`label-${v}`]:v}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:D.value,valueClass:F("value"),titleClass:[F("label",[v,{required:e.required}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:$?()=>$:null,title:x?()=>x:null,value:d,extra:a.extra})}}});const an=te(nn);function ln(e,n,a){let r=0;const i=e.scrollLeft,o=a===0?1:Math.round(a*1e3/16);function u(){e.scrollLeft+=(n-i)/o,++r<o&&Ae(u)}u()}function on(e,n,a,r){let i=he(e);const o=i<n,u=a===0?1:Math.round(a*1e3/16),h=(n-i)/u;function l(){i+=h,(o&&i>n||!o&&i<n)&&(i=n),St(e,i),o&&i<n||!o&&i>n?Ae(l):r&&Ae(r)}l()}function cn(e,n){if(!It||!window.IntersectionObserver)return;const a=new IntersectionObserver(o=>{n(o[0].intersectionRatio>0)},{root:document.body}),r=()=>{e.value&&a.observe(e.value)},i=()=>{e.value&&a.unobserve(e.value)};Tt(i),$t(i),pe(r)}const[rn,sn]=Y("sticky"),un={zIndex:V,position:p("top"),container:Object,offsetTop:ne(0),offsetBottom:ne(0)};var dn=Z({name:rn,props:un,emits:["scroll","change"],setup(e,{emit:n,slots:a}){const r=E(),i=Ne(r),o=_e({fixed:!1,width:0,height:0,transform:0}),u=R(()=>et(e.position==="top"?e.offsetTop:e.offsetBottom)),h=R(()=>{const{fixed:b,height:S,width:k}=o;if(b)return{width:`${k}px`,height:`${S}px`}}),l=R(()=>{if(!o.fixed)return;const b=ie(tt(e.zIndex),{width:`${o.width}px`,height:`${o.height}px`,[e.position]:`${u.value}px`});return o.transform&&(b.transform=`translate3d(0, ${o.transform}px, 0)`),b}),g=b=>n("scroll",{scrollTop:b,isFixed:o.fixed}),f=()=>{if(!r.value||Fe(r))return;const{container:b,position:S}=e,k=ee(r),m=he(window);if(o.width=k.width,o.height=k.height,S==="top")if(b){const w=ee(b),_=w.bottom-u.value-o.height;o.fixed=u.value>k.top&&w.bottom>0,o.transform=_<0?_:0}else o.fixed=u.value>k.top;else{const{clientHeight:w}=document.documentElement;if(b){const _=ee(b),P=w-_.top-u.value-o.height;o.fixed=w-u.value<k.bottom&&w>_.top,o.transform=P<0?-P:0}else o.fixed=w-u.value<k.bottom}g(m)};return U(()=>o.fixed,b=>n("change",b)),ve("scroll",f,{target:i,passive:!0}),cn(r,f),()=>{var b;return s("div",{ref:r,style:h.value},[s("div",{class:sn({fixed:o.fixed}),style:l.value},[(b=a.default)==null?void 0:b.call(a)])])}}});const fn=te(dn),[vn,Ze]=Y("tab");var hn=Z({name:vn,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:V,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:ae},setup(e,{slots:n}){const a=R(()=>{const i={},{type:o,color:u,disabled:h,isActive:l,activeColor:g,inactiveColor:f}=e;u&&o==="card"&&(i.borderColor=u,h||(l?i.backgroundColor=u:i.color=u));const S=l?g:f;return S&&(i.color=S),i}),r=()=>{const i=s("span",{class:Ze("text",{ellipsis:!e.scrollable})},[n.title?n.title():e.title]);return e.dot||q(e.badge)&&e.badge!==""?s(Rt,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[i]}):i};return()=>s("div",{id:e.id,role:"tab",class:[Ze([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:a.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls},[r()])}});const[gn,Xe]=Y("tabs");var bn=Z({name:gn,props:{count:Ie(Number),inited:Boolean,animated:Boolean,duration:Ie(V),swipeable:Boolean,lazyRender:Boolean,currentIndex:Ie(Number)},emits:["change"],setup(e,{emit:n,slots:a}){const r=E(),i=h=>n("change",h),o=()=>{var h;const l=(h=a.default)==null?void 0:h.call(a);return e.animated||e.swipeable?s(Ft,{ref:r,loop:!1,class:Xe("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:i},{default:()=>[l]}):l},u=h=>{const l=r.value;l&&l.state.active!==h&&l.swipeTo(h,{immediate:!e.inited})};return U(()=>e.currentIndex,u),ze(()=>{u(e.currentIndex)}),le({swipeRef:r}),()=>s("div",{class:Xe("content",{animated:e.animated||e.swipeable})},[o()])}});const[dt,be]=Y("tabs"),mn={type:p("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:ne(0),duration:ne(.3),animated:Boolean,ellipsis:ae,swipeable:Boolean,scrollspy:Boolean,offsetTop:ne(0),background:String,lazyRender:ae,lineWidth:V,lineHeight:V,beforeChange:Function,swipeThreshold:ne(5),titleActiveColor:String,titleInactiveColor:String},ft=Symbol(dt);var yn=Z({name:dt,props:mn,emits:["click","change","scroll","disabled","rendered","click-tab","update:active"],setup(e,{emit:n,slots:a}){let r,i,o;const u=E(),h=E(),l=E(),g=E(),f=Ce(),b=Ne(u),[S,k]=Ht(),{children:m,linkChildren:w}=nt(ft),_=_e({inited:!1,position:"",lineStyle:{},currentIndex:-1}),P=R(()=>m.length>e.swipeThreshold||!e.ellipsis||e.shrink),H=R(()=>({borderColor:e.color,background:e.background})),L=(c,d)=>{var t;return(t=c.name)!=null?t:d},Q=R(()=>{const c=m[_.currentIndex];if(c)return L(c,_.currentIndex)}),y=R(()=>et(e.offsetTop)),X=R(()=>e.sticky?y.value+r:0),O=c=>{const d=h.value,t=S.value;if(!P.value||!d||!t||!t[_.currentIndex])return;const v=t[_.currentIndex].$el,x=v.offsetLeft-(d.offsetWidth-v.offsetWidth)/2;ln(d,x,c?0:+e.duration)},C=()=>{const c=_.inited;K(()=>{const d=S.value;if(!d||!d[_.currentIndex]||e.type!=="line"||Fe(u.value))return;const t=d[_.currentIndex].$el,{lineWidth:v,lineHeight:x}=e,$=t.offsetLeft+t.offsetWidth/2,N={width:Be(v),backgroundColor:e.color,transform:`translateX(${$}px) translateX(-50%)`};if(c&&(N.transitionDuration=`${e.duration}s`),q(x)){const je=Be(x);N.height=je,N.borderRadius=je}_.lineStyle=N})},I=c=>{const d=c<_.currentIndex?-1:1;for(;c>=0&&c<m.length;){if(!m[c].disabled)return c;c+=d}},T=c=>{const d=I(c);if(!q(d))return;const t=m[d],v=L(t,d),x=_.currentIndex!==null;_.currentIndex=d,v!==e.active&&(n("update:active",v),x&&n("change",v,t.title))},B=c=>{const d=m.find((v,x)=>L(v,x)===c),t=d?m.indexOf(d):0;T(t)},A=(c=!1)=>{if(e.scrollspy){const d=m[_.currentIndex].$el;if(d&&b.value){const t=qe(d,b.value)-X.value;i=!0,on(b.value,t,c?0:+e.duration,()=>{i=!1})}}},z=(c,d,t)=>{const{title:v,disabled:x}=m[d],$=L(m[d],d);x?n("disabled",$,v):(Vt(e.beforeChange,{args:[$],done:()=>{T(d),A()}}),n("click",$,v),Lt(c)),n("click-tab",{name:$,title:v,event:t,disabled:x})},j=c=>{o=c.isFixed,n("scroll",c)},D=c=>{K(()=>{B(c),A(!0)})},M=()=>{for(let c=0;c<m.length;c++){const{top:d}=ee(m[c].$el);if(d>X.value)return c===0?0:c-1}return m.length-1},oe=()=>{if(e.scrollspy&&!i){const c=M();T(c)}},G=()=>m.map((c,d)=>s(hn,De({key:c.id,id:`${f}-${d}`,ref:k(d),type:e.type,color:e.color,style:c.titleStyle,class:c.titleClass,shrink:e.shrink,isActive:d===_.currentIndex,controls:c.id,scrollable:P.value,activeColor:e.titleActiveColor,inactiveColor:e.titleInactiveColor,onClick:t=>z(c,d,t)},Ee(c,["dot","badge","title","disabled","showZeroBadge"])),{title:c.$slots.title})),ke=()=>{if(e.type==="line"&&m.length)return s("div",{class:be("line"),style:_.lineStyle},null)},ge=()=>{var c,d;const{type:t,border:v}=e;return s("div",{ref:l,class:[be("wrap"),{[Pt]:t==="line"&&v}]},[s("div",{ref:h,role:"tablist",class:be("nav",[t,{shrink:e.shrink,complete:P.value}]),style:H.value,"aria-orientation":"horizontal"},[(c=a["nav-left"])==null?void 0:c.call(a),G(),ke(),(d=a["nav-right"])==null?void 0:d.call(a)])])};U([()=>e.color,Bt],C),U(()=>e.active,c=>{c!==Q.value&&B(c)}),U(()=>m.length,()=>{_.inited&&(B(e.active),C(),K(()=>{O(!0)}))}),U(()=>_.currentIndex,()=>{O(),C(),o&&!e.scrollspy&&Oe(Math.ceil(qe(u.value)-y.value))});const we=()=>{B(e.active),K(()=>{_.inited=!0,l.value&&(r=ee(l.value).height),O(!0)})},Se=(c,d)=>n("rendered",c,d);return le({resize:()=>{C(),K(()=>{var c,d;return(d=(c=g.value)==null?void 0:c.swipeRef.value)==null?void 0:d.resize()})},scrollTo:D}),At(C),Et(C),pe(we),ve("scroll",oe,{target:b,passive:!0}),w({id:f,props:e,setLine:C,onRendered:Se,currentName:Q,scrollIntoView:O}),()=>{var c;return s("div",{ref:u,class:be([e.type])},[e.sticky?s(fn,{container:u.value,offsetTop:y.value,onScroll:j},{default:()=>{var d;return[ge(),(d=a["nav-bottom"])==null?void 0:d.call(a)]}}):[ge(),(c=a["nav-bottom"])==null?void 0:c.call(a)],s(bn,{ref:g,count:m.length,inited:_.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:_.currentIndex,onChange:T},{default:()=>{var d;return[(d=a.default)==null?void 0:d.call(a)]}})])}}});const xn=Symbol(),[_n,$e]=Y("tab"),Cn=ie({},Ge,{dot:Boolean,name:V,badge:V,title:String,disabled:Boolean,titleClass:ue,titleStyle:[String,Object],showZeroBadge:ae});var kn=Z({name:_n,props:Cn,setup(e,{slots:n}){const a=Ce(),r=E(!1),{parent:i,index:o}=Me(ft);if(!i)return;const u=()=>{var g;return(g=e.name)!=null?g:o.value},h=()=>{r.value=!0,i.props.lazyRender&&K(()=>{i.onRendered(u(),e.title)})},l=R(()=>{const g=u()===i.currentName.value;return g&&!r.value&&h(),g});return U(()=>e.title,()=>{i.setLine(),i.scrollIntoView()}),Je(xn,l),()=>{var g;const f=`${i.id}-${o.value}`,{animated:b,swipeable:S,scrollspy:k,lazyRender:m}=i.props;if(!n.default&&!b)return;const w=k||l.value;if(b||S)return s(Wt,{id:a,role:"tabpanel",class:$e("panel-wrapper",{inactive:!l.value}),tabindex:l.value?0:-1,"aria-hidden":!l.value,"aria-labelledby":f},{default:()=>{var H;return[s("div",{class:$e("panel")},[(H=n.default)==null?void 0:H.call(n)])]}});const P=r.value||k||!m?(g=n.default)==null?void 0:g.call(n):null;return le({id:a}),at(s("div",{id:a,role:"tabpanel",class:$e("panel"),tabindex:w?0:-1,"aria-labelledby":f},[P]),[[it,w]])}}});const wn=te(kn),Sn=te(yn);function In(){const e="A".charCodeAt(0);return Array(26).fill("").map((a,r)=>String.fromCharCode(e+r))}const[vt,Re]=Y("index-bar"),Tn={sticky:ae,zIndex:V,teleport:[String,Object],highlightColor:String,stickyOffsetTop:Mt(0),indexList:{type:Array,default:In}},ht=Symbol(vt);var $n=Z({name:vt,props:Tn,emits:["select","change"],setup(e,{emit:n,slots:a}){const r=E(),i=E(),o=E(""),u=jt(),h=Ne(r),{children:l,linkChildren:g}=nt(ht);let f;g({props:e});const b=R(()=>{if(q(e.zIndex))return{zIndex:+e.zIndex+1}}),S=R(()=>{if(e.highlightColor)return{color:e.highlightColor}}),k=(C,I)=>{for(let T=l.length-1;T>=0;T--){const B=T>0?I[T-1].height:0,A=e.sticky?B+e.stickyOffsetTop:0;if(C+A>=I[T].top)return T}return-1},m=C=>l.find(I=>String(I.index)===C),w=()=>{if(Fe(r))return;const{sticky:C,indexList:I}=e,T=he(h.value),B=ee(h),A=l.map(j=>j.getRect(h.value,B));let z=-1;if(f){const j=m(f);if(j){const D=j.getRect(h.value,B);z=k(D.top,A)}}else z=k(T,A);o.value=I[z],C&&l.forEach((j,D)=>{const{state:M,$el:oe}=j;if(D===z||D===z-1){const G=oe.getBoundingClientRect();M.left=G.left,M.width=G.width}else M.left=null,M.width=null;if(D===z)M.active=!0,M.top=Math.max(e.stickyOffsetTop,A[D].top-T)+B.top;else if(D===z-1&&f===""){const G=A[z].top-T;M.active=G>0,M.top=G+B.top-A[D].height}else M.active=!1}),f=""},_=()=>{K(w)};ve("scroll",w,{target:h,passive:!0}),ze(_),U(()=>e.indexList,_),U(o,C=>{C&&n("change",C)});const P=()=>e.indexList.map(C=>{const I=C===o.value;return s("span",{class:Re("index",{active:I}),style:I?S.value:void 0,"data-index":C},[C])}),H=C=>{f=String(C);const I=m(f);if(I){const T=he(h.value),B=ee(h),{offsetHeight:A}=document.documentElement;if(I.$el.scrollIntoView(),T===A-B.height){w();return}e.sticky&&e.stickyOffsetTop&&Oe(Le()-e.stickyOffsetTop),n("select",I.index)}},L=C=>{const{index:I}=C.dataset;I&&H(I)},Q=C=>{L(C.target)};let y;const X=C=>{if(u.move(C),u.isVertical()){xe(C);const{clientX:I,clientY:T}=C.touches[0],B=document.elementFromPoint(I,T);if(B){const{index:A}=B.dataset;A&&y!==A&&(y=A,L(B))}}},O=()=>s("div",{ref:i,class:Re("sidebar"),style:b.value,onClick:Q,onTouchstartPassive:u.start},[P()]);return le({scrollTo:H}),ve("touchmove",X,{target:i}),()=>{var C;return s("div",{ref:r,class:Re()},[e.teleport?s(Ot,{to:e.teleport},{default:()=>[O()]}):O(),(C=a.default)==null?void 0:C.call(a)])}}});const[Rn,Bn]=Y("index-anchor"),An={index:V};var En=Z({name:Rn,props:An,setup(e,{slots:n}){const a=_e({top:0,left:null,rect:{top:0,height:0},width:null,active:!1}),r=E(),{parent:i}=Me(ht);if(!i)return;const o=()=>a.active&&i.props.sticky,u=R(()=>{const{zIndex:l,highlightColor:g}=i.props;if(o())return ie(tt(l),{left:a.left?`${a.left}px`:void 0,width:a.width?`${a.width}px`:void 0,transform:a.top?`translate3d(0, ${a.top}px, 0)`:void 0,color:g})});return le({state:a,getRect:(l,g)=>{const f=ee(r);return a.rect.height=f.height,l===window||l===document.body?a.rect.top=f.top+Le():a.rect.top=f.top+he(l)-g.top,a.rect}}),()=>{const l=o();return s("div",{ref:r,style:{height:l?`${a.rect.height}px`:void 0}},[s("div",{style:u.value,class:[Bn({sticky:l}),{[zt]:l}]},[n.default?n.default():e.index])])}}});const Pn=te(En),Vn=te($n),[Ln,se,On]=Y("search"),Mn=ie({},We,{label:String,shape:p("square"),leftIcon:p("search"),clearable:ae,actionText:String,background:String,showAction:Boolean});var zn=Z({name:Ln,props:Mn,emits:["blur","focus","clear","search","cancel","click-input","click-left-icon","click-right-icon","update:modelValue"],setup(e,{emit:n,slots:a,attrs:r}){const i=Ce(),o=E(),u=()=>{a.action||(n("update:modelValue",""),n("cancel"))},h=y=>{y.keyCode===13&&(xe(y),n("search",e.modelValue))},l=()=>e.id||`${i}-input`,g=()=>{if(a.label||e.label)return s("label",{class:se("label"),for:l()},[a.label?a.label():e.label])},f=()=>{if(e.showAction){const y=e.actionText||On("cancel");return s("div",{class:se("action"),role:"button",tabindex:0,onClick:u},[a.action?a.action():y])}},b=()=>{var y;return(y=o.value)==null?void 0:y.blur()},S=()=>{var y;return(y=o.value)==null?void 0:y.focus()},k=y=>n("blur",y),m=y=>n("focus",y),w=y=>n("clear",y),_=y=>n("click-input",y),P=y=>n("click-left-icon",y),H=y=>n("click-right-icon",y),L=Object.keys(We),Q=()=>{const y=ie({},r,Ee(e,L),{id:l()}),X=O=>n("update:modelValue",O);return s(an,De({ref:o,type:"search",class:se("field"),border:!1,onBlur:k,onFocus:m,onClear:w,onKeypress:h,"onClick-input":_,"onClick-left-icon":P,"onClick-right-icon":H,"onUpdate:modelValue":X},y),Ee(a,["left-icon","right-icon"]))};return le({focus:S,blur:b}),()=>{var y;return s("div",{class:se({"show-action":e.showAction}),style:{background:e.background}},[(y=a.left)==null?void 0:y.call(a),s("div",{class:se("content",e.shape)},[g(),Q()]),f()])}}});const Dn=te(zn);const Nn={class:"city-list"},Fn=Qe("\u70ED\u95E8"),Wn={class:"hotcity"},Hn=["onClick"],jn={__name:"city-list",props:{groupData:{type:Object,default:()=>({})}},setup(e){const n=e,a=R(()=>{var h;const u=(h=n.groupData.cities)==null?void 0:h.map(l=>l.group);return u==null||u.unshift("#"),u}),r=ct(),i=ot();function o(u){r.changeCurrentCityAction(u),i.back()}return(u,h)=>{const l=Pn,g=st,f=Vn;return W(),J("div",Nn,[s(f,{"index-list":ye(a)},{default:Pe(()=>[s(l,{index:"1"},{default:Pe(()=>[Fn]),_:1}),me("div",Wn,[(W(!0),J(re,null,fe(e.groupData.hotCities,(b,S)=>(W(),J("div",{class:"cityItem",onClick:k=>o(b)},Dt(b.cityName),9,Hn))),256))]),(W(!0),J(re,null,fe(e.groupData.cities,(b,S)=>(W(),J(re,{key:S},[s(l,{index:b.group},null,8,["index"]),(W(!0),J(re,null,fe(b.cities,(k,m)=>(W(),Ve(g,{key:m,title:k.cityName,onClick:w=>o(k)},null,8,["title","onClick"]))),128))],64))),128))]),_:1},8,["index-list"])])}}},Kn=lt(jn,[["__scopeId","data-v-6a4c85e0"]]);const qn={class:"city"},Un={class:"top"},Yn={class:"city top-bar"},Zn={class:"content"},Xn={__name:"city",setup(e){const n=ot(),a=E(""),r=()=>{n.back()},i=E(0),o=ct();o.fetchAllCitiesAction();const{allCities:u}=Nt(o);console.log(u.value);const h=R(()=>u.value[i.value]);return(l,g)=>{const f=Dn,b=wn,S=Sn;return W(),J("div",qn,[me("div",Un,[me("div",Yn,[s(f,{modelValue:a.value,"onUpdate:modelValue":g[0]||(g[0]=k=>a.value=k),placeholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u5173\u952E\u8BCD",shape:"round",background:"white","show-action":"",onCancel:r},null,8,["modelValue"]),s(S,{active:i.value,"onUpdate:active":g[1]||(g[1]=k=>i.value=k),type:"line",color:"rgb(255, 150, 69)"},{default:Pe(()=>[(W(!0),J(re,null,fe(ye(u),(k,m,w)=>(W(),Ve(b,{key:m,title:k.title,name:m},null,8,["title","name"]))),128))]),_:1},8,["active"])])]),me("div",Zn,[(W(!0),J(re,null,fe(ye(u),(k,m,w)=>at((W(),Ve(Kn,{key:m,groupData:ye(h)},null,8,["groupData"])),[[it,i.value===m]])),128))])])}}},ta=lt(Xn,[["__scopeId","data-v-882613d4"]]);export{ta as default};
